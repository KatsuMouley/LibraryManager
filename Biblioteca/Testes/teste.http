@host = http://localhost:5257

# ==========================================================
# ||                   VARI√ÅVEIS DE TOKEN                 ||
# || Ap√≥s fazer login com cada tipo de usu√°rio, cole o    ||
# || token JWT correspondente aqui.                       ||
# ==========================================================
@token_comum = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiY29tbW9tdXNlckBleGFtcGxlLmNvbSIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWVpZGVudGlmaWVyIjoiMTUiLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOiJ1c3VhcmlvIiwiZXhwIjoxNzUwODg2Mjk1fQ.cLLhpbpYqJOrWDlCi81HWBCHMhTB9hCfb4oljgGBpHw
@token_admin = eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiTU9TQGV4YW1wbGUuY29tIiwiaHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvd3MvMjAwNS8wNS9pZGVudGl0eS9jbGFpbXMvbmFtZWlkZW50aWZpZXIiOiIxNCIsImh0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vd3MvMjAwOC8wNi9pZGVudGl0eS9jbGFpbXMvcm9sZSI6ImFkbWluaXN0cmFkb3IiLCJleHAiOjE3NTA4ODYzMjN9.MCwV4XqSFpxRmOtTGln08dH87Rd-0yuEf9MWzo88GM0


###########################################################
### üîì ROTAS P√öBLICAS (n√£o requerem autentica√ß√£o)
###########################################################

### ‚úÖ Cadastrar usu√°rio COMUM (Permissao: 0)
POST {{host}}/api/Usuario/cadastrar
Content-Type: application/json

{
  "email": "commomuser@example.com",
  "senha": "123456",
  "permissao": 0
}

### ‚úÖ Cadastrar usu√°rio ADMIN (Permissao: 1)
POST {{host}}/api/Usuario/cadastrar
Content-Type: application/json

{
  "email": "MOS@example.com",
  "senha": "123456",
  "permissao": 1
}

### ‚úÖ Login (Usu√°rio COMUM)
POST {{host}}/api/Usuario/login
Content-Type: application/json

{
  "email": "commomuser@example.com",
  "senha": "123456"
}

### ‚úÖ Login (Usu√°rio ADMIN)
POST {{host}}/api/Usuario/login
Content-Type: application/json

{
  "email": "MOS@example.com",
  "senha": "123456"
}

### ‚úÖ Listar livros (acesso p√∫blico)
GET {{host}}/api/Livros/listar

### ‚úÖ Listar autores (acesso p√∫blico)
GET {{host}}/api/Autor/listar


###########################################################
### üîê ROTAS PROTEGIDAS (requerem autentica√ß√£o)
###########################################################

### üîí Listar todos os usu√°rios (somente ADMIN)
GET {{host}}/api/Usuario/listar
Authorization: Bearer {{token_admin}}

###

### üîí Cadastrar novo livro (somente ADMIN)
POST {{host}}/api/Livros
Authorization: Bearer {{token_admin}}
Content-Type: application/json

{
  "titulo": "A Revolu√ß√£o dos Bichos",
  "anoPublicacao": 1945,
  "autorId": 1
}

###

### üîí Cadastrar autor (somente ADMIN)
POST {{host}}/api/Autor
Authorization: Bearer {{token_admin}}
Content-Type: application/json

{
  "nome": "J.R.R. Tolkien",
  "nacionalidade": "Sul-Africano"
}

###

### üîí (USU√ÅRIO) Fazer um empr√©stimo para si mesmo
# Esta rota usa o token do usu√°rio logado para definir o UsuarioId.
POST {{host}}/api/Emprestimos/emprestar
Authorization: Bearer {{token_comum}}
Content-Type: application/json

{
  "livroId": 6
}

###

### üîí (ADMIN) Fazer um empr√©stimo para qualquer usu√°rio
# Esta rota permite que um admin defina para qual usu√°rio o livro ser√° emprestado.
POST {{host}}/api/Emprestimos/emprestar-como-admin
Authorization: Bearer {{token_admin}}
Content-Type: application/json

{
  "livroId": 5,
  "usuarioId": 9
}

###

### üîí Devolver livro (qualquer um dos tokens v√°lidos)
# A l√≥gica no backend verifica se o usu√°rio √© o dono do empr√©stimo ou um admin.
PUT {{host}}/api/Emprestimos/devolver/14
Authorization: Bearer {{token_admin}}

###

### üîí Consultar MEUS empr√©stimos (usu√°rio logado)
GET {{host}}/api/Emprestimos/meus-emprestimos
Authorization: Bearer {{token_comum}}

###

### üîí Listar TODOS os empr√©stimos (somente ADMIN)
GET {{host}}/api/Emprestimos/listar
Authorization: Bearer {{token_admin}}